<!DOCTYPE html>
<html lang="en">
<html>
    <body>
        <div id="div1"></div>
        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <!--add babel-->
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <!--JSX-->
        <!--<script type="text/jsx">-->
        <script type="text/babel">
            //select the div
            const firstDiv = document.getElementById('div1');

            let key = 0;

            function Heade({title})
            {
                return (<h1>{title}</h1>)
            }

            

            function HomePage()
            {
                //const [itemsArray, setItemsArray] = React.useState([]);
                const [highPri, setHighPri] = React.useState([]);
                const [medPri, setMedPri] = React.useState([]);
                const [lowPri, setLowPri] = React.useState([]);
                
                const [value, setValue] = React.useState("test");
                const [likes, setLikes] = React.useState(0);
                
                //data for the text fields and radio button
                const [year, setYear] = React.useState('');
                const [make, setMake] = React.useState('');
                const [model, setModel] = React.useState('');
                const [issue, setIssue] = React.useState('');
                const [severity, setSeverity] = React.useState('');
                
                {/*function handleClick()
                {
                    setLikes(likes + 1);
                }*/}
                
                {/*function handleSubmit(event)
                {
                    //only needed to keep the page from refreshing with empty values
                    event.preventDefault();
                    
                    setValue(`${year} ${make} ${model} ${issue}`);
                }*/}
                
                {/*function handleLogItem()
                {
                    setItemsArray(// Replace the state
                      [ // with a new array
                        ...itemsArray, // that contains all the old items
                        { 
                            id: key++,
                            name: `${year} ${make} ${model} ${issue}` } //append one new item
                            //^^^^^this essentially makes the object
                            //that's in the array.
                            //id and name are datafields, not defined
                            //anywhere else.
                      ]
                    );
                }*/}
                
                
                //need to set item as issue
                //and priority from the radio buttons
                //use sort item as the function for onClick
                const sortItem = (priority, item) => {

                    switch(priority)
                    {
                        case "1": //when priority = 1
                            setHighPri([...highPri,
                                        {id: key++,
                                        name: item}
                                       ]);
                            break;
                        case "2":
                            setMedPri([...medPri,
                                       {id: key++,
                                        name: item}
                                       ]);
                            break;
                        case "3":
                            setLowPri([...lowPri,
                                       {id: key++,
                                        name: item}
                                       ]);
                            break;
                        default:
                            break;
                    }
                };
                
                
                return (
                <div>
                    <Heade title="Vehicle Maintenance Log"/>
                    
                    <form>
                    
                    {/*Binds the values to the useStates, upon any change*/}
                    <label>Year:
                        <input
                            type="text"
                            value={year}
                            onChange={(e) => setYear(e.target.value)}
                        />
                    </label>
                        
                    <label>Make:
                        <input
                            type="text"
                            value={make}
                            onChange={(e) => setMake(e.target.value)}
                        />
                    </label>
                        
                    <label>Model:
                        <input
                            type="text"
                            value={model}
                            onChange={(e) => setModel(e.target.value)}
                        />
                    </label>
                        
                    <label>Issue:
                        <input
                            type="text"
                            value={issue}
                            onChange={(e) => setIssue(e.target.value)}
                        />
                    </label>
                    
                    <label>
                        <input 
                            type="radio"
                            name="urgency"
                            value="1"
                            onChange={(e) => setSeverity(e.target.value)}
                            >
                        </input> High
                        
                        <input
                            type="radio"
                            name="urgency"
                            value="2"
                            onChange={(e) => setSeverity(e.target.value)}
                            >
                        </input> Medium
                        <input
                            type="radio"
                            name="urgency"
                            value="3"
                            onChange={(e) => setSeverity(e.target.value)}
                            >
                        </input> Low
                    </label>
                    
                    </form>
                    
                    
                    <button onClick={() => sortItem(severity, issue)}>Submit {likes}</button>
                    
                    <h3>High Priority</h3>
                    <ul>
                        {/*maps out items in the array */}
                        {highPri.map((highPri) => (
                    <li key={highPri.id}>{highPri.name}</li>))}
                    </ul>
                        
                    <h3>Medium Priority</h3>
                    <ul> 
                        {medPri.map((medPri) => (
                        <li key={medPri.id}>{medPri.name}</li>))}
                    </ul>
                    
                    <h3>Low Priority</h3>
                    <ul>
                        {lowPri.map((lowPri) => (
                        <li key={lowPri.id}>{lowPri.name}</li>))}
                    </ul>
                    
                    
                    <button >log: {value} {severity}</button>
                </div>
                );
            }

            const root = ReactDOM.createRoot(firstDiv);
            root.render(<HomePage />);
            
        </script>
    </body>
</html>
